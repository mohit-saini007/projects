<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Search Engine</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Image Search Engine</h1>
    <form id="searchform">
        <input type="text" id="searchbox" placeholder="Search Something Here...">
        <button type="submit">Search</button>
    </form>
    <div id="searchresult"></div>
    <button id="showmore">Show More</button>
    <button id="showless">Show Less</button>

    <script>
        const accessKey = "y7zUi6lWNqlJlaTrfONoYiRwYxk6oKUmrY7RktdXbvQ";
        const searchForm = document.getElementById("searchform");
        const searchBox = document.getElementById("searchbox");
        const searchResult = document.getElementById("searchresult");
        const showMore = document.getElementById("showmore");
        const showless = document.getElementById("showless");

        let keyword = "";
        let page = 1;

        async function searchImages() {
            keyword = searchBox.value;
            const url = `https://api.unsplash.com/search/photos?page=${page}&query=${keyword}&client_id=${accessKey}&per_page=12`;

            const response = await fetch(url);
            const data = await response.json();

            if (page === 1) {
                searchResult.innerHTML = ""; // clear previous results
            }

            const results = data.results;

            results.forEach((result) => {
                const image = document.createElement("img");
                image.src = result.urls.small;

                const imageLink = document.createElement("a");
                imageLink.href = result.links.html;
                imageLink.target = "_blank";

                imageLink.appendChild(image);
                searchResult.appendChild(imageLink);
            });

            showMore.style.display = "block";
            showless.style.display = page > 1 ? "block" : "none";

        }

        searchForm.addEventListener("submit", (e) => {
            e.preventDefault();
            page = 1;
            searchImages();
        });

        showMore.addEventListener("click", () => {
            page++;
            searchImages();
        });
        showless.addEventListener("click", () => {
            if(page>1){
                page--;
            
            searchImages();}
        });
    </script>
</body>
</html>
